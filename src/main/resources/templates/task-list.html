<!DOCTYPE>

<html lang="eng" xlmns:th="http://www.thymeleaf.org">

<head>
	<title>To Do List</title>
	
	<meta name="viewport" content="width=device-width, initial-scale=1">
	
	<link rel="stylesheet" th:href="@{/css/list-style.css}">
	
	<!-- needed for adding Font Awesome 5 icons(delete,edit) -->
	<script src="https://kit.fontawesome.com/a076d05399.js" crossorigin="anonymous"></script>
		
</head>


<body>
	<!-- adding list icon -->
	<h3>To Do List <i class="fas fa-clipboard-list"></i> </h3>
	
	<hr>
	
	<div class="container">
		
		<!-- search form -->
		<form action="#" th:action="@{search}" method="GET">
			<input type="text" name="search" placeholder="Search" class="search">
			<button value="search" class="search-button"><i class="fa fa-search"></i></button>
		</form>
	
		<table>
			<thead>
				<tr>
					<th id="table-top-left">Title</th>
					<th class="longer-cell">Description</th>
					<th>Due Date</th>
					<th>Days Remaining</th>
					<th class="long-cell text-align" id="table-top-right">Action</th>				
				</tr>
			</thead>
		
			<tbody>
				<tr th:each="tempTask : ${taskList}">
					<td th:text="${tempTask.title}">
					<td th:text="${tempTask.description}" class="longer-cell">
					<td th:text="${tempTask.dueDate}">
					<td th:text="${tempTask.daysRemaining}">
					<td class="long-cell text-align">
						<a th:href="@{/tasks/showFormForUpdate(taskId=${tempTask.id})}" class="button"> <i class="fas fa-edit"></i>Edit</a>
						<a th:href="@{/tasks/delete(taskId=${tempTask.id})}"
							onclick="if (!(confirm('Are you sure you want to delete?'))) return false" class="button delete-button"> 
						<i class="far fa-trash-alt"></i>Delete</a>
					</td>
				</tr>
			</tbody>
	
		</table>
	
	
		<a th:href="@{/tasks/showFormForAdd}" class="button add-button" id="add-task-button">Add Task</a>
		
		<!-- displays show all button if you are in searched list -->
		<a th:if="${param.search != null}" th:href="@{/tasks/list}" class="button add-button" id="show-all-button">Show All Tasks</a>
		
		
	</div>
</body>


</html>